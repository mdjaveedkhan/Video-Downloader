<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Universal Video Downloader</title>
    <link rel="stylesheet" href="/static/styles.css">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>

<div class="container">
    <h1>ğŸ“¥ Universal Video Downloader</h1>

    <input type="text" id="url" placeholder="Paste video link here">

    <select id="format">
        <option value="mp4">MP4 (Video)</option>
        <option value="mp3">MP3 (Audio)</option>
    </select>

    <button onclick="download()">Download</button>

    <p id="status"></p>
</div>

<script>
function download() {
    const url = document.getElementById("url").value;
    const format = document.getElementById("format").value;

    document.getElementById("status").innerText = "â³ Preparing download...";

    const formData = new FormData();
    formData.append("url", url);
    formData.append("format", format);

    fetch("/get_link", {
        method: "POST",
        body: formData
    })
    .then(res => res.json())
    .then(data => {
        if (data.download_url) {
            window.location.href = data.download_url;
            document.getElementById("status").innerText = "âœ… Download started!";
        } else {
            document.getElementById("status").innerText = "âŒ Video restricted";
        }
    });
}
</script>

</body>
</html>
